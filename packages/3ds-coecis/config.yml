Id:             '3ds-coecis'
Description:    '3ds-coecis'
Version:        '2022.1'

Install:
  - File:       '%INSTALL_DIR%\Setup.exe'
    FileType:   'exe'
    Arguments:  '-q'
    ExitCodes:  [0,1638,1641] # 1638 = newer version of a prereq already installed (C++)

  - File:       '%INSTALL_DIR%\vray_adv_52002_max2022_x64.exe'   ## Installation file
    FileType:   'exe'                       ## exe or msi are the only options currently
    Arguments:  '-gui=0 -configFile="%INSTALL_DIR%\config.xml" -quiet=1 -auto'        ## Silent installation switches/parmeters
    ExitCodes:  [0]                         ## Exit codes - returns a success
    
Applications:
    3ds:
        DisplayName:    '3ds Max'
        Path:           '%PROGRAMFILES%\Autodesk\3ds Max 2022\3dsmax.exe'
        LaunchParams:   ''
        WorkDir:        ''

Files: 
    '%TOOLS_DIR%\3dsMax.ini': '%SYSTEMDRIVE%\Users\Default\AppData\Local\Autodesk\3dsMax\2022 - 64bit\ENU\3dsMax.ini'

Environment:
    ADSKFLEX_LICENSE_FILE: '%3DS_LICENSE_FILE%'
    
Services:
    AdAppMgrSvc: 'Manual' # Autodesk Desktop App Service

Registry:

    HKUD:
        SOFTWARE\Autodesk\MC3:
            ADAOptIn:
                Type:   'DWORD'
                Value:  '0'
                
            ADARePrompted:
                Type:   'DWORD'
                Value:  '1'
                
        SOFTWARE\Autodesk\3dsMax\24.0:
            MaxStartupCount:
                Type:   'DWORD'
                Value:  '1'
